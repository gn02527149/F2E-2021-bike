{"version":3,"sources":["Component/Common/TopNavigation/TopNavigation.js","Component/Common/Footer/Footer.js","controller/apiManager.js","Router/Homepage/index.js","Router/Homepage/Homepage.js","Component/Common/Breadcrumb/Breadcrumb.js","Router/SearchResult/index.js","Router/SearchResult/SearchResult.js","Router/ViewDetail/index.js","assets/images/logo.png","Component/Common/Header/Header.js","Component/App.js","index.js"],"names":["TopNavigation","useHistory","useState","id","className","to","Footer","apiRoot","getAuthorizationHeader","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","Authorization","getHMAC","requestAPI","path","param","fetch","qs","stringify","method","headers","then","response","a","ok","json","msg","Message","data","requesScenicSpot","city","ScenicSpotPath","Homepage","Separator","SearchResult","history","useParams","searchKind","loc","useLocation","parse","search","substring","searchCity","setSearchCity","searchKeyword","setSearchKeyword","setSearchResult","isLoading","setLoading","useEffect","$filter","$top","value","onChange","e","target","placeholder","onClick","push","ViewDetail","Header","src","Logo","alt","App","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.28a3bcd8.chunk.js","sourcesContent":["import React, { useCallback, useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\n\n\nimport \"./TopNavigation.scss\";\nimport { Link } from \"react-router-dom\";\n\nconst TopNavigation = () => {\n  const history = useHistory();\n  const [isMenuVisible, setMenuVisible] = useState(false);\n\n  return (\n    <div id=\"top-navigation\">\n      <div className=\"inner-container\">\n        <ul>\n          <Link className=\"logo select\" to=\"/F2E-2021-bike/\">\n            <div className=\"logoBox\">\n              <div className=\"logoImg\"></div>\n              <p>Bike Fun！自行車旅遊網</p>\n            </div>\n          </Link>\n          <Link className=\"not-allowed\" to={`/F2E-2021-bike/:searchKind/search-result`}>\n            最新消息\n          </Link>\n          <Link className=\"not-allowed\" to=\"/\">\n            探索路線\n          </Link>\n          <Link className=\"not-allowed\" to=\"/\">\n            尋找站點\n          </Link>\n          <Link className=\"not-allowed\" to=\"/\">\n            常見問題\n          </Link>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default TopNavigation;\n","import React from \"react\";\n\n\nimport \"./Footer.scss\";\n\nconst Footer = () => {\n  return (\n    <div id=\"footer\">\n      <div className=\"inner-container\">\n        <span className=\"copyright\">#The F2E 3rd Week02 Design_#Vum | FE_#Ruby </span>\n      </div>\n    </div>\n  );\n};\n\nexport default Footer;\n","import jsSHA from \"jssha\";\nimport qs from \"querystring\";\n\nconst apiRoot = \"https://ptx.transportdata.tw/MOTC/\";\nconst VERSION = \"/v2\";\n\nconst getAuthorizationHeader = () => {\n  let AppID = \"7a376b59e20f4432ac089f1fa355b119\";\n  let AppKey = \"mPqGsiqokJLEiYoiFKP7eN2nWxw\";\n  let GMTString = new Date().toGMTString();\n  let ShaObj = new jsSHA(\"SHA-1\", \"TEXT\");\n  ShaObj.setHMACKey(AppKey, \"TEXT\");\n  ShaObj.update(\"x-date: \" + GMTString);\n  let HMAC = ShaObj.getHMAC(\"B64\");\n  let Authorization =\n    'hmac username=\"' +\n    AppID +\n    '\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"' +\n    HMAC +\n    '\"';\n  return { Authorization: Authorization, \"X-Date\": GMTString };\n};\n\nconst requestAPI = (path = \"\", param = {}) => {\n  return fetch(`${apiRoot}${VERSION}${path}?${qs.stringify(param)}`, {\n    method: \"GET\",\n    headers: getAuthorizationHeader(),\n  })\n    .then(async (response) => {\n      if (!response.ok) {\n        const errorMsg = await response.json().then((msg) => msg.Message);\n        // alert\n        throw errorMsg;\n      }\n      return response.json();\n    })\n    .then((data) => data);\n};\n\nexport default requestAPI;\n\nexport const requesScenicSpot = (city, param) => {\n  const ScenicSpotPath = \"/Tourism/ScenicSpot\";\n\n  if (!city) {\n    return requestAPI(ScenicSpotPath, param);\n  }\n  return requestAPI(`${ScenicSpotPath}/${city}`, param);\n};\n","import Homepage from \"./Homepage\";\n\nexport default Homepage;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\n\n// import defaultCardPicture from \"../../assets/images/view/unsplash_5Lw1U5BIumE.png\";\n// import LocationOnOutlinedIcon from \"../../assets/images/icons/Vector.png\";\n// import TimeIcon from \"../../assets/images/icons/bx_bx-time.png\";\n// import yearPhoto from \"../../assets/images/other/unsplash_gdTxVSAE5sk.png\";\n// import artPhoto from \"../../assets/images/other/unsplash_8fb3UBhNqc8.png\";\n// import galaPhoto from \"../../assets/images/other/unsplash_AlSlE8IAjZo.png\";\n// import otherPhoto from \"../../assets/images/other/unsplash_Wj1D-qiOseE.png\";\n\n\nimport requestAPI, { requesScenicSpot } from \"../../controller/apiManager\";\n\nimport \"./Homepage.scss\";\n\nconst Homepage = () => {\n  return (\n    <>\n      <div className=\"homepage-container inner-container\">\n        <div className=\"container hot-container\">\n          <div className=\"title hot\">\n            {/* <span>熱門景點</span>\n            <p>台灣的各個美景，都美不勝收。<br/> 等你一同來發現這座寶島的奧妙！</p> */}\n          </div>\n          <div className=\"card-container\">\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Homepage;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./Breadcrumb.scss\";\n\nexport const Separator = () => <span className=\"separator\">/</span>;\n\nconst Breadcrumb = ({ data }) => {\n  // return (\n  //   <>\n  //     <div className=\"breadcrumb\">\n  //       <Link to=\"/F2E-2021-bike\">首頁</Link>\n  //       <Separator />\n  //       <Link to=\"/F2E-2021-bike/scenic-spot/search-result\">探索景點</Link>\n  //       {data.City && (\n  //         <>\n  //           <Separator />\n  //           <Link to={`/F2E-2021-bike/scenic-spot/search-result?searchCity=${data.enCity}`}>\n  //             {data.City}\n  //           </Link>\n  //           <Separator />\n  //         </>\n  //       )}\n  //       {data.Name}\n  //     </div>\n  //   </>\n  // );\n};\n\nexport default Breadcrumb;\n","import SearchResult from \"./SearchResult\";\n\nexport default SearchResult;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport qs from \"querystring\";\n\n// import SearchIcon from \"@mui/icons-material/Search\";\n// import LocationOnOutlinedIcon from \"@mui/icons-material/LocationOnOutlined\";\n// import defaultCardPicture from \"../../assets/image/default-card-picture.png\";\n// import noDataIcon from \"../../assets/image/no-data.png\";\n\nimport { CITY_OPTIONS } from \"../../constants/city\";\nimport requestAPI, { requesScenicSpot } from \"../../controller/apiManager\";\n\nimport \"./SearchResult.scss\";\nimport { Separator } from \"../../Component/Common/Breadcrumb\";\n\nconst SearchResult = () => {\n  const history = useHistory();\n  const { searchKind = \"scenic-spot\" } = useParams();\n  const loc = useLocation();\n  const [searchCity, setSearchCity] = useState(\n    qs.parse(loc.search.substring(1)).searchCity || \"\"\n  );\n  const [searchKeyword, setSearchKeyword] = useState(\n    qs.parse(loc.search).searchKeyword || \"\"\n  );\n  const [searchResult, setSearchResult] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n\n  useEffect(async () => {\n    if (searchKind === \"scenic-spot\") {\n      setLoading(true);\n      const data = await requesScenicSpot(searchCity, {\n        $filter: `contains(Name,'${searchKeyword}')`,\n        $top: 20,\n      });\n      setSearchResult(data);\n      setLoading(false);\n    }\n  }, [loc]);\n\n  const handleSearch = () => {\n    history.push(\n      `/F2E-2021-bike/scenic-spot/search-result?${qs.stringify({\n        searchCity,\n        searchKeyword,\n      })}`\n    );\n  };\n\n  return (\n    <>\n      <div className=\"search-result\">\n        {isLoading && <div className=\"mask\"></div>}\n        <div className=\"inner-container\">\n          <div className=\"breadcrumb\">\n            <Link to=\"/\">首頁</Link>\n            <Separator />\n            探索景點\n          </div>\n          <div className=\"search-bar\">\n            <select\n              className=\"search-kind\"\n              value={searchCity}\n              onChange={(e) => setSearchCity(e.target.value)}\n            >\n              <option value=\"\">全部縣市</option>\n              {/* {Object.keys(CITY_OPTIONS).map((cityKey) => (\n                <option key={cityKey} value={cityKey}>\n                  {CITY_OPTIONS[cityKey]}\n                </option>\n              ))} */}\n            </select>\n            <input\n              className=\"search-keyword\"\n              placeholder=\"你想去哪裡？請輸入關鍵字\"\n              value={searchKeyword}\n              onChange={(e) => setSearchKeyword(e.target.value)}\n            />\n            <div className=\"search-button\" onClick={handleSearch}>\n              {/* <SearchIcon className=\"icon\" /> */}\n              搜尋\n            </div>\n          </div>\n          <div className=\"show-result\">\n            <p className=\"result-text\">\n              搜尋結果{\" \"}\n              <span>\n                {/* 目前顯示<code>{searchResult.length}</code>筆 */}\n              </span>\n            </p>\n            {/* <div className=\"card-container\">\n              {searchResult.length > 0 &&\n                searchResult.map((data) => (\n                  <div\n                    className=\"card\"\n                    key={data.ID}\n                    onClick={() => history.push(`/scenic-spot/view/${data.ID}`)}\n                  >\n                    <img src={data.Picture.PictureUrl1 || defaultCardPicture} />\n                    <p className=\"title\">{data.Name}</p>\n                    <div className=\"city-info\">\n                      <LocationOnOutlinedIcon className=\"icon\" />\n                      <span>{data.Address || data.City}</span>\n                    </div>\n                  </div>\n                ))}\n              {!isLoading && !searchResult.length && (\n                <div className=\"no-data-container\">\n                  <img className=\"icon\" src={noDataIcon} />\n                  <p className=\"no-data-text\">\n                    目前查無資料\n                    <br />\n                    請重新搜尋\n                  </p>\n                </div>\n              )}\n            </div> */}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SearchResult;\n","import ViewDetail from \"./ViewDetail\";\n\nexport default ViewDetail;\n","export default __webpack_public_path__ + \"static/media/logo.28a4914b.png\";","import React, { useEffect, useState } from \"react\";\n\nimport Logo from \"../../../assets/images/logo.png\";\n\nimport \"./Header.scss\";\n\nconst Header = () => {\n  return (\n    <div className=\"header-bg\">\n      <div className=\"header-container\">\n        <div className=\"header-Logo\">\n          <img src={Logo} alt=\"logo\"></img>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React, { useLayoutEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport \"../assets/normalize.css\";\nimport './style.scss';\n\nimport { TopNavigation } from \"./Common/TopNavigation\";\nimport { Footer } from \"./Common/Footer\";\nimport { requesScenicSpot } from \"../controller/apiManager\";\nimport Homepage from \"../Router/Homepage/index\";\nimport SearchResult from \"../Router/SearchResult/index\";\nimport ViewDetail from \"../Router/ViewDetail/index\";\n// import ScrollToTop from \"./ScrollToTop\";\nimport { Header } from \"./Common/Header\";\n\n// export const basename = process.env.isProd ? \"/F2E-2021_trip\" : \"/\";\n// console.log(basename);\n\nconst App = () => {\n  return (\n    <>\n      <Router>\n        {/* <ScrollToTop /> */}\n        <Header />\n        <TopNavigation />\n        <Switch>\n          <Route exact path=\"/F2E-2021-bike/\" component={Homepage} />\n          <Route path={`/F2E-2021-bike/:searchKind/search-result`} component={SearchResult} />\n          <Route path={`/F2E-2021-bike/:searchKind/view/:id`} component={ViewDetail} />\n        </Switch>\n        <Footer />\n      </Router>\n    </>\n  );\n};\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Component/App';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}